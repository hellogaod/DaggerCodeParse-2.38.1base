
# 源码很短 #

## IncrementalAnnotationProcessor ##

IncrementalAnnotationProcessor校验使用@DisableInstallInCheck注解的节点必须使用@Module注解。

> 就这么一句话，完了！！！

## EarlyEntryPointProcessor ##

EarlyEntryPointProcessor类处理使用@EarlyEntryPoint注解的earlyEntryPoint节点生成类；

>可以先回顾一下AggregatedDepsProcessor。

生成的类在`dagger.hilt.android.internal.earlyentrypoint.codegen`包下：

	//This class should only be referenced by generated code!
	//This class aggregates information across multiple compilations.
	@AggregatedEarlyEntryPoint(earlyEntryPoint = earlyEntryPoint节点名)
	@Generated("AggregatedEarlyEntryPointGenerator")
	public class earlyEntryPoint节点全路径以"_"拼接{
	}


## OriginatingElementProcessor ##

该类用于校验@OriginatingElement注解，规则如下：

1. @OriginatingElement修饰的节点必须是顶级类或接口，顶级-表示再上一级就是包了；

2. OriginatingElement#topLevelClass中的节点也必须是顶级类或接口。


## GeneratesRootInputProcessor ##

@GeneratesRootInput用于修饰注解的注解。

demo:在dagger.hilt.internal包下，

	@GeneratesRootInput
	public @interface ComponentEntryPoint{}

生成的类在dagger.hilt.processor.internal.generatesrootinput.codegen包下：

	//Generated class to get the list of annotations that generate input for root.
	@GeneratesRootInputPropagatedData(ComponentEntryPoint.class)
	@Generated("GeneratesRootInputPropagatedDataGenerator")
	clss com_mycustom_MyGeneratesRootInput{}

## UninstallModulesProcessor ##

处理@UninstallModules注解。当前注解用于测试。

**校验规则：**

1. @UninstallModules修饰的节点必须是类或接口，还必须同时使用@HiltAndroidTest修饰；

2. @UninstallModules#value里面的节点必须使用@Module 和 @InstallIn 同时修饰；

3. @UninstallModules#value中的节点所在顶级节点（当前节点如果在上面是包，那么当前节点就是顶级节点）不允许使用@HiltAndroidTest修饰；

生成的类在`dagger.hilt.android.internal.uninstallmodules.codegen`包下：

    //This class should only be referenced by generated code!This class aggregates information across multiple compilations.
    @AggregatedUninstallModules(test = $Class名,uninstallModules = @UninstallModules#value中的节点名称)
    @Generated("AggregatedUninstallModulesGenerator")
    public class 包"_"拼接$Class{}

# 总结 #

代码写的我有点不理解，因为有的processor可以合并处理，比如这里的EarlyEntryPointProcessor可以和AggregatedDepsProcessor放在一起。唯一的解释就是这里的processor后面还会进行扩展，所以单独拎出来了。当然我们没必要纠结，下面就是最核心模块，在`dagger.hilt.processor.internal.root`包下。




